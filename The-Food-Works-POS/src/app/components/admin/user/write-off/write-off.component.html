<app-admin-navigation></app-admin-navigation>
<div *ngIf='created'>
<span class="page-title" style="top:-0.5%;">Select Products for Write-Off</span><br><br><br><br>
<div class="table-container">
  <div class="table-wrapper">
    <ng-container *ngFor="let b of branchData" >
      <br>
    <h2 class="table-head">{{b.Name}}</h2>
    <table mat-table [dataSource]="b.Products" matSort class="mat-elevation-z8" >
      <!-- ID Column -->
      <ng-container matColumnDef="ID">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>
      <!-- QOH Column -->
      <ng-container matColumnDef="QOH">
        <th mat-header-cell *matHeaderCellDef> QOH </th>
        <td mat-cell *matCellDef="let element"> {{ element.qoh}} </td>
      </ng-container>

      <!-- Select Column -->
      <ng-container matColumnDef="Select">
                <th mat-header-cell *matHeaderCellDef> Select </th>
                <td mat-cell *matCellDef="let element">
          <mat-checkbox #checkBox="matCheckbox" (click)="AddToList(element.id, b.ID, checkBox)">
          </mat-checkbox></td>
      </ng-container> 
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      
      <mat-paginator [length]="100" [pageSize]="10" [pageSizeOptions]="[5, 10]" showFirstLastButtons class="mat-elevation-z8">
      </mat-paginator>

</ng-container>
      </div>
      </div>
     <br>
     <button style="background-color: rebeccapurple; color: white;align-content: center; text-align: center; left: 82%; width:fit-content;" (click)="sendList()" mat-raised-button> Proceed  </button>
</div>